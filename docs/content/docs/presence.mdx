---
title: Presence Object 
description: High-level overview of the presence data model used in Tether API responses and WebSocket events.
---

import { Unplug } from "lucide-react"

---

## Requesting Presence Data

<Callout>
The presence data model is consistent across both WebSocket gateway events and HTTP API responses.
</Callout>

#### HTTP API

Typically when calling the HTTP API to fetch presence data for users, the response will include presence objects.

```bash
GET https://tether.eggwite.moe/v1/presence/{userID}
```

```json
{
  success: true,
  data: {
    // PresenceData
    ...
  }
}
```

#### WebSocket Gateway

```bash
WS ws://tether.eggwite.moe/socket

{
  "op": 2,
  "d": {
    "subscribe_to_ids": ["123456789012345678", "987654321098765432"]
  }
}
```
 <Card href="./ws-gateway" title="WebSocket Gateway" icon={<Unplug />}>
    Check the WebSocket Gateway documentation for details on subscribing to user IDs and receiving presence updates.
  </Card>
---
When subscribed to user IDs via the WebSocket gateway, presence updates will include presence objects in the `d` field of `PRESENCE_UPDATE` and `user_id`, useful when watching multiple users.

```json title="PRESENCE_UPDATE"
{
  "op": 0,
  "seq": 123,
  "t": "PRESENCE_UPDATE",
   "d": {
    "user_id": "123456789012345678",
    "data": {
      // PresenceData
      ...
  }
}
```

### Diagram

The diagram represents the relational structure of the typical response presence object returned by the Tether API. More details on the specific fields and properties can be found at [Presence Data Model](./data-models#presence-data-model).

<Tabs items={["Diagram", "Example"]}>
  <Tab>
    <Mermaid chart={`
      classDiagram
        class Presence {
          status: string
          activities: Activity[]
          clients: Clients
          discord_user: DiscordUser
          spotify: Spotify
        }
        class Activity {
          id: string
          name: string
          type: int
          created_at: int64
          session_id: string
          emoji: Emoji
          details: string
          state: string
          platform: string
          assets: Assets
          timestamps: Timestamps
        }
        class Clients {
          active: string[]
          primary: string
        }
        class DiscordUser {
          id: string
          username: string
          global_name: string
          display_name: string
          avatar: string
          avatar_url: string
          discriminator: string
          bot: bool
          public_flags: int
          avatar_decoration_data: AvatarDecoration
          primary_guild: PrimaryGuild
        }
        class Spotify {
          track_id: string
          party_id: string
          song: string
          artist: string
          album: string
          album_art_url: string
          timestamps: Timestamps
        }
        class Emoji {
          name: string
        }
        class Assets {
          large_image: string
          large_image_url: string
          large_text: string
          small_image: string
          small_image_url: string
          small_text: string
        }
        class Timestamps {
          start: int64
          end: int64
        }
        class AvatarDecoration {
          asset: string
          avatar_decoration_url: string
          expires_at: string
          sku_id: string
        }
        class PrimaryGuild {
          badge: string
          badge_url: string
          identity_enabled: bool
          identity_guild_id: string
          tag: string
        }
        Presence o-- Activity
        Presence o-- Clients
        Presence o-- DiscordUser
        Presence o-- Spotify
        Activity o-- Emoji
        Activity o-- Assets
        Activity o-- Timestamps
        Spotify o-- Timestamps
        DiscordUser o-- AvatarDecoration
        DiscordUser o-- PrimaryGuild
    `} style="overflow: visible;" />
  </Tab>
  <Tab>
  ```json title="response.json"
  {
    "data": {
        "activities": [
            {
                "created_at": 1767862082571,
                "emoji": {
                    "name": "ğŸ°"
                },
                "id": "custom",
                "name": "Custom Status",
                "session_id": "b2688c7311af71cac3f5b564df161e8c",
                "state": "Startorch academy scholar",
                "type": 4
            },
            {
                "application_id": "383226320970055681",
                "assets": {
                    "large_image": "1359299015484768338",
                    "large_image_url": "https://cdn.discordapp.com/app-assets/383226320970055681/1359299015484768338.webp",
                    "large_text": "Editing a JSON file",
                    "small_image": "1359299466493956258",
                    "small_image_url": "https://cdn.discordapp.com/app-assets/383226320970055681/1359299466493956258.webp",
                    "small_text": "Visual Studio Code"
                },
                "created_at": 1767862080472,
                "details": "Editing temp_current.json",
                "id": "4dc2afc1b4e8c182",
                "name": "Visual Studio Code",
                "platform": "desktop",
                "session_id": "b2688c7311af71cac3f5b564df161e8c",
                "state": "Workspace: â€‹â€‹",
                "timestamps": {
                    "start": 1767859918293
                },
                "type": 0
            }
        ],
        "clients": {
            "active": [
                "desktop"
            ],
            "primary": "desktop"
        },
        "discord_user": {
            "id": "672569780716175370",
            "username": "eggwite",
            "global_name": "ğ¸ğ‘”ğ‘”ğ“Œğ‘œğ“Šğ“ğ’¹ğ“ƒ'ğ“‰",
            "display_name": "ğ¸ğ‘”ğ‘”ğ“Œğ‘œğ“Šğ“ğ’¹ğ“ƒ'ğ“‰",
            "avatar": "e4b9454871f5c161bcbdc9640ef8ce53",
            "avatar_url": "https://cdn.discordapp.com/avatars/672569780716175370/e4b9454871f5c161bcbdc9640ef8ce53.webp?size=256",
            "discriminator": "0",
            "avatar_decoration_data": {
                "asset": "a_c3cffc19e9784f7d0b005eecdf1b566e",
                "avatar_decoration_url": "https://cdn.discordapp.com/avatar-decoration-presets/a_c3cffc19e9784f7d0b005eecdf1b566e.png?size=240&passthrough=true",
                "expires_at": null,
                "sku_id": "1212569433839636530"
            },
            "primary_guild": {
                "badge": "1ed9dbd4ad1c8ba83484f6767f8c4afd",
                "badge_url": "https://cdn.discordapp.com/clan-badges/778820142138261505/1ed9dbd4ad1c8ba83484f6767f8c4afd.png?size=32",
                "identity_enabled": true,
                "identity_guild_id": "778820142138261505",
                "tag": "Ëš+"
            },
            "collectibles": null,
            "display_name_styles": null,
            "bot": false,
            "public_flags": 64
        },
        "spotify": {
            "track_id": "32zpHDchUY83w80C8mMtOs",
            "party_id": "spotify:672569780716175370",
            "timestamps": {
                "start": 1767862010530,
                "end": 1767862152412
            },
            "song": "QUEEN",
            "artist": "Kanaria",
            "album_art_url": "https://i.scdn.co/image/ab67616d0000b273dd18a7c8679c1c78f1f12e2d",
            "album": "QUEEN"
        },
        "status": "online"
    },
    "success": true
  }
  ```
  </Tab>
</Tabs>

<Callout title="Notes on Presence Data" type="idea">
| Field/Property | Description |
|----------------|-------------|
| Presence Object | The presence object represents the most recently observed state for a user, as reported by Discord. It may not always reflect the userâ€™s exact real-time presence due to possible delays or missed updates from the Discord gateway |
| spotify | The `spotify` object is populated when the user is actively listening to Spotify. If null, the gateway does not include Spotify information. |
| primary_active_client | The `primary_active_client` will always be one of the active clients, if present. |
| activities | The `activities` array may contain custom or third-party activities; its structure may change over time. |
</Callout>